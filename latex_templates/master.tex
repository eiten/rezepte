\documentclass[a4paper,12pt]{scrartcl}

% -- LuaLaTeX Setup --
\usepackage{fontspec}
\usepackage[ngerman]{babel}
\usepackage[style=swiss]{csquotes} 

% -- Layout --
\usepackage[left=2.5cm, right=2.5cm, top=3cm, bottom=3cm]{geometry}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{parskip} 
\usepackage{array} 

% -- Science & Units --
\usepackage[version=4]{mhchem}
\usepackage{siunitx}
\sisetup{
  locale = CH, 
  detect-all,
  range-phrase = --,
  range-units = single
}

% -- Custom Units --
\DeclareSIUnit\EL{EL}
\DeclareSIUnit\TL{TL}
\DeclareSIUnit\Prise{Prise}
\DeclareSIUnit\Stk{Stk.}

% -- Metadata --
\title{ << recipe.name >> }
\author{ << recipe.author >> }
\date{}

\begin{document}

% -- Header --
\section*{<< recipe.name >>}
<< recipe.author >>, << current_date >>

\vspace{0.5cm}

% -- Content Table --
\noindent
\begin{tabularx}{\textwidth}{@{} >{\raggedright\arraybackslash}p{5cm} X @{}}
    \toprule
    \textbf{Zutaten} & \textbf{Zubereitung} \\
    \midrule
    <% for step in steps -%>
        <% if step.ingredients -%>
            <% for ing in step.ingredients -%>
                <% if ing.unit_type == 'si' -%>
                    <% if ing.amount_max -%>\qtyrange{<< ing.amount_min >>}{<< ing.amount_max >>}{<< ing.unit_latex >>}<% else -%>\qty{<< ing.amount_min >>}{<< ing.unit_latex >>}<% endif -%><% else -%>\num{<< ing.amount_min >>}<% if ing.amount_max -%>--\num{<< ing.amount_max >>}<% endif -%><< ing.unit_symbol >><% endif -%>~<< ing.item >> <% if ing.note -%>\textit{(<< ing.note >>)}<% endif -%><% if not loop.last -%>\newline<% endif -%>
            <% endfor -%>
        <% endif -%>
        &
        << step.latex_text >> \\
        <% if not loop.last -%>\addlinespace[1em]<% endif -%>

    <% endfor -%>
    \bottomrule
\end{tabularx}

\end{document}